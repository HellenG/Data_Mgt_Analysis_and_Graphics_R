<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R Essentials</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="R Essentials is a foundation book for an upcoming book titled ‘Introduction to Data Analysis and Graphics using R’.">
  <meta name="generator" content="bookdown 0.3 and GitBook 2.6.7">

  <meta property="og:title" content="R Essentials" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="R Essentials is a foundation book for an upcoming book titled ‘Introduction to Data Analysis and Graphics using R’." />
  <meta name="github-repo" content="HellenG/Data_Mgt_Analysis_and_Graphics_R" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R Essentials" />
  
  <meta name="twitter:description" content="R Essentials is a foundation book for an upcoming book titled ‘Introduction to Data Analysis and Graphics using R’." />
  

<meta name="author" content="Hellen Gakuruh">


<meta name="date" content="2017-01-30">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="chap9.html">
<link rel="next" href="r.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R Essentials</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#learning-outcomes"><i class="fa fa-check"></i>Learning Outcomes</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="chap1.html"><a href="chap1.html"><i class="fa fa-check"></i><b>1</b> Getting to know R and RStudio</a><ul>
<li class="chapter" data-level="" data-path="chap1.html"><a href="chap1.html#goal"><i class="fa fa-check"></i>Goal</a></li>
<li class="chapter" data-level="" data-path="chap1.html"><a href="chap1.html#what-we-shall-cover"><i class="fa fa-check"></i>What we shall cover</a></li>
<li class="chapter" data-level="1.1" data-path="chap1.html"><a href="chap1.html#what-is-r"><i class="fa fa-check"></i><b>1.1</b> What is R?</a><ul>
<li class="chapter" data-level="1.1.1" data-path="chap1.html"><a href="chap1.html#defining-r-and-tracing-its-history"><i class="fa fa-check"></i><b>1.1.1</b> Defining R and tracing it’s history</a></li>
<li class="chapter" data-level="1.1.2" data-path="chap1.html"><a href="chap1.html#downloading-and-installation-of-base-r"><i class="fa fa-check"></i><b>1.1.2</b> Downloading and Installation of Base R</a></li>
<li class="chapter" data-level="1.1.3" data-path="chap1.html"><a href="chap1.html#tour-of-base-r"><i class="fa fa-check"></i><b>1.1.3</b> Tour of base R</a></li>
<li class="chapter" data-level="1.1.4" data-path="chap1.html"><a href="chap1.html#RConsole"><i class="fa fa-check"></i><b>1.1.4</b> Base R’s console</a></li>
<li class="chapter" data-level="1.1.5" data-path="chap1.html"><a href="chap1.html#errors-warnings-and-messages"><i class="fa fa-check"></i><b>1.1.5</b> Errors, Warnings and messages</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="chap1.html"><a href="chap1.html#RStudio"><i class="fa fa-check"></i><b>1.2</b> RStudio</a><ul>
<li class="chapter" data-level="1.2.1" data-path="chap1.html"><a href="chap1.html#downloading-and-installing-rstudio"><i class="fa fa-check"></i><b>1.2.1</b> Downloading and Installing RStudio</a></li>
<li class="chapter" data-level="1.2.2" data-path="chap1.html"><a href="chap1.html#getting-to-know-rstudio-layout"><i class="fa fa-check"></i><b>1.2.2</b> Getting to know RStudio layout</a></li>
<li class="chapter" data-level="1.2.3" data-path="chap1.html"><a href="chap1.html#RStudioConsole"><i class="fa fa-check"></i><b>1.2.3</b> Working with RStudio’s console</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="chap1.html"><a href="chap1.html#packages"><i class="fa fa-check"></i><b>1.3</b> Installing and Loading Packages</a></li>
<li class="chapter" data-level="1.4" data-path="chap1.html"><a href="chap1.html#workingDirectory"><i class="fa fa-check"></i><b>1.4</b> Working directory</a><ul>
<li class="chapter" data-level="1.4.1" data-path="chap1.html"><a href="chap1.html#RScripting"><i class="fa fa-check"></i><b>1.4.1</b> Introduction to scripting (reproducible analysis)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="chap2.html"><a href="chap2.html"><i class="fa fa-check"></i><b>2</b> Making Function Calls</a><ul>
<li class="chapter" data-level="" data-path="chap2.html"><a href="chap2.html#goal-1"><i class="fa fa-check"></i>Goal</a></li>
<li class="chapter" data-level="" data-path="chap2.html"><a href="chap2.html#what-we-shall-cover-1"><i class="fa fa-check"></i>What we shall cover</a></li>
<li class="chapter" data-level="" data-path="chap2.html"><a href="chap2.html#prerequisite"><i class="fa fa-check"></i>Prerequisite</a></li>
<li class="chapter" data-level="2.1" data-path="chap2.html"><a href="chap2.html#r-functions"><i class="fa fa-check"></i><b>2.1</b> R Functions</a></li>
<li class="chapter" data-level="2.2" data-path="chap2.html"><a href="chap2.html#making-function-calls"><i class="fa fa-check"></i><b>2.2</b> Making Function Calls</a><ul>
<li class="chapter" data-level="2.2.1" data-path="chap2.html"><a href="chap2.html#a-functions-name"><i class="fa fa-check"></i><b>2.2.1</b> A functions name</a></li>
<li class="chapter" data-level="2.2.2" data-path="chap2.html"><a href="chap2.html#arguments"><i class="fa fa-check"></i><b>2.2.2</b> Arguments</a></li>
<li class="chapter" data-level="2.2.3" data-path="chap2.html"><a href="chap2.html#functionLevels"><i class="fa fa-check"></i><b>2.2.3</b> Different Function levels</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chap3.html"><a href="chap3.html"><i class="fa fa-check"></i><b>3</b> Introduction to Version Control Systems</a><ul>
<li class="chapter" data-level="" data-path="chap3.html"><a href="chap3.html#preliquisite"><i class="fa fa-check"></i>Preliquisite</a></li>
<li class="chapter" data-level="" data-path="chap3.html"><a href="chap3.html#chapter-expectation"><i class="fa fa-check"></i>Chapter Expectation</a></li>
<li class="chapter" data-level="3.1" data-path="chap3.html"><a href="chap3.html#whatvcsis"><i class="fa fa-check"></i><b>3.1</b> Introduction: What and Why Version Control System</a></li>
<li class="chapter" data-level="3.2" data-path="chap3.html"><a href="chap3.html#introgit"><i class="fa fa-check"></i><b>3.2</b> Introduction to Git</a><ul>
<li class="chapter" data-level="3.2.1" data-path="chap3.html"><a href="chap3.html#what-is-git"><i class="fa fa-check"></i><b>3.2.1</b> What is Git?</a></li>
<li class="chapter" data-level="3.2.2" data-path="chap3.html"><a href="chap3.html#how-does-git-work"><i class="fa fa-check"></i><b>3.2.2</b> How does Git work?</a></li>
<li class="chapter" data-level="3.2.3" data-path="chap3.html"><a href="chap3.html#working-with-git"><i class="fa fa-check"></i><b>3.2.3</b> Working with Git</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="chap3.html"><a href="chap3.html#collaborating-with-other-r-programmersdevelopers"><i class="fa fa-check"></i><b>3.3</b> Collaborating with other R programmers/developers</a><ul>
<li class="chapter" data-level="3.3.1" data-path="chap3.html"><a href="chap3.html#working-with-remote-repositories-gitgub"><i class="fa fa-check"></i><b>3.3.1</b> Working with remote repositories: GitGub</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="chap3.html"><a href="chap3.html#using-git-and-github-in-rstudio"><i class="fa fa-check"></i><b>3.4</b> Using Git and GitHub in RStudio</a></li>
<li class="chapter" data-level="" data-path="chap3.html"><a href="chap3.html#references"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="chap4.html"><a href="chap4.html"><i class="fa fa-check"></i><b>4</b> Data Types and Data Objects</a><ul>
<li class="chapter" data-level="" data-path="chap4.html"><a href="chap4.html#session-goal"><i class="fa fa-check"></i>Session Goal</a></li>
<li class="chapter" data-level="" data-path="chap4.html"><a href="chap4.html#what-we-shall-cover-2"><i class="fa fa-check"></i>What we shall cover</a></li>
<li class="chapter" data-level="" data-path="chap4.html"><a href="chap4.html#prerequisite-1"><i class="fa fa-check"></i>Prerequisite</a></li>
<li class="chapter" data-level="4.1" data-path="chap4.html"><a href="chap4.html#dataTypes"><i class="fa fa-check"></i><b>4.1</b> Data Types</a></li>
<li class="chapter" data-level="4.2" data-path="chap4.html"><a href="chap4.html#vectors"><i class="fa fa-check"></i><b>4.2</b> Vectors</a><ul>
<li class="chapter" data-level="4.2.1" data-path="chap4.html"><a href="chap4.html#creating-vectors"><i class="fa fa-check"></i><b>4.2.1</b> Creating vectors</a></li>
<li class="chapter" data-level="4.2.2" data-path="chap4.html"><a href="chap4.html#namingObjects"><i class="fa fa-check"></i><b>4.2.2</b> Naming objects</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="chap4.html"><a href="chap4.html#properties-of-data-objects-vector"><i class="fa fa-check"></i><b>4.3</b> Properties of data objects (vector)</a><ul>
<li class="chapter" data-level="4.3.1" data-path="chap4.html"><a href="chap4.html#typeof"><i class="fa fa-check"></i><b>4.3.1</b> Type of a vector</a></li>
<li class="chapter" data-level="4.3.2" data-path="chap4.html"><a href="chap4.html#attributes"><i class="fa fa-check"></i><b>4.3.2</b> Attributes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chap5.html"><a href="chap5.html"><i class="fa fa-check"></i><b>5</b> Importing and Exporting Data</a><ul>
<li class="chapter" data-level="" data-path="chap5.html"><a href="chap5.html#chapter-goal"><i class="fa fa-check"></i>Chapter Goal</a></li>
<li class="chapter" data-level="" data-path="chap5.html"><a href="chap5.html#what-we-shall-cover-3"><i class="fa fa-check"></i>What we shall cover</a></li>
<li class="chapter" data-level="5.1" data-path="chap5.html"><a href="chap5.html#importing-data-into-r"><i class="fa fa-check"></i><b>5.1</b> Importing Data into R</a><ul>
<li class="chapter" data-level="5.1.1" data-path="chap5.html"><a href="chap5.html#using-gui-for-delimited-files"><i class="fa fa-check"></i><b>5.1.1</b> Using GUI for delimited files</a></li>
<li class="chapter" data-level="5.1.2" data-path="chap5.html"><a href="chap5.html#using-command-line"><i class="fa fa-check"></i><b>5.1.2</b> Using command line</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="chap5.html"><a href="chap5.html#importing-challenges"><i class="fa fa-check"></i><b>5.2</b> Importing Challenges</a></li>
<li class="chapter" data-level="5.3" data-path="chap5.html"><a href="chap5.html#exporting-data"><i class="fa fa-check"></i><b>5.3</b> Exporting Data</a><ul>
<li class="chapter" data-level="5.3.1" data-path="chap5.html"><a href="chap5.html#base-r-and-utils-exporting-functions"><i class="fa fa-check"></i><b>5.3.1</b> Base R and Utils exporting functions</a></li>
<li class="chapter" data-level="5.3.2" data-path="chap5.html"><a href="chap5.html#exporting-with-other-packages"><i class="fa fa-check"></i><b>5.3.2</b> Exporting with other packages</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="chap5.html"><a href="chap5.html#taking-a-glimpse"><i class="fa fa-check"></i><b>5.4</b> Taking a Glimpse</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="chap6.html"><a href="chap6.html"><i class="fa fa-check"></i><b>6</b> Transforming Manipulating Data Objects</a><ul>
<li class="chapter" data-level="" data-path="chap6.html"><a href="chap6.html#chapter-goal-1"><i class="fa fa-check"></i>Chapter Goal</a></li>
<li class="chapter" data-level="" data-path="chap6.html"><a href="chap6.html#what-we-shall-cover-4"><i class="fa fa-check"></i>What we shall cover</a></li>
<li class="chapter" data-level="6.1" data-path="chap6.html"><a href="chap6.html#prerequisite-2"><i class="fa fa-check"></i><b>6.1</b> Prerequisite</a></li>
<li class="chapter" data-level="6.2" data-path="chap6.html"><a href="chap6.html#indexing"><i class="fa fa-check"></i><b>6.2</b> Indexing different data objects in R</a><ul>
<li class="chapter" data-level="6.2.1" data-path="chap6.html"><a href="chap6.html#indexing-one-dimensional-objects"><i class="fa fa-check"></i><b>6.2.1</b> Indexing one dimensional objects</a></li>
<li class="chapter" data-level="6.2.2" data-path="chap6.html"><a href="chap6.html#indexing-two-dimensional-vectors"><i class="fa fa-check"></i><b>6.2.2</b> Indexing two dimensional vectors</a></li>
<li class="chapter" data-level="6.2.3" data-path="chap6.html"><a href="chap6.html#atomichomogenous-vectors-with-more-than-2-dimensions-2d"><i class="fa fa-check"></i><b>6.2.3</b> Atomic/Homogenous vectors with more than 2 dimensions (&gt;2d)</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="chap6.html"><a href="chap6.html#binary-and-vectorisation-operators"><i class="fa fa-check"></i><b>6.3</b> Binary and vectorisation Operators</a><ul>
<li class="chapter" data-level="6.3.1" data-path="chap6.html"><a href="chap6.html#compOps"><i class="fa fa-check"></i><b>6.3.1</b> Comparison Operators</a></li>
<li class="chapter" data-level="6.3.2" data-path="chap6.html"><a href="chap6.html#logical-operators"><i class="fa fa-check"></i><b>6.3.2</b> Logical Operators</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="chap6.html"><a href="chap6.html#checking-conditions"><i class="fa fa-check"></i><b>6.4</b> Checking conditions</a><ul>
<li class="chapter" data-level="6.4.1" data-path="chap6.html"><a href="chap6.html#all-function"><i class="fa fa-check"></i><b>6.4.1</b> “All” function</a></li>
<li class="chapter" data-level="6.4.2" data-path="chap6.html"><a href="chap6.html#any-function"><i class="fa fa-check"></i><b>6.4.2</b> “Any” function</a></li>
<li class="chapter" data-level="6.4.3" data-path="chap6.html"><a href="chap6.html#which-function"><i class="fa fa-check"></i><b>6.4.3</b> “Which” function</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="chap6.html"><a href="chap6.html#subsetting"><i class="fa fa-check"></i><b>6.5</b> Subsetting Data Objects</a><ul>
<li class="chapter" data-level="6.5.1" data-path="chap6.html"><a href="chap6.html#subsetting-one-dimensional-atomic-vectors"><i class="fa fa-check"></i><b>6.5.1</b> Subsetting one dimensional atomic vectors</a></li>
<li class="chapter" data-level="6.5.2" data-path="chap6.html"><a href="chap6.html#subsetting-a-matrix"><i class="fa fa-check"></i><b>6.5.2</b> Subsetting a Matrix</a></li>
<li class="chapter" data-level="6.5.3" data-path="chap6.html"><a href="chap6.html#subsetting-a-dataframe"><i class="fa fa-check"></i><b>6.5.3</b> Subsetting a dataframe</a></li>
<li class="chapter" data-level="6.5.4" data-path="chap6.html"><a href="chap6.html#subsetting-a-list"><i class="fa fa-check"></i><b>6.5.4</b> Subsetting a List</a></li>
<li class="chapter" data-level="6.5.5" data-path="chap6.html"><a href="chap6.html#subsetting-character-vectors"><i class="fa fa-check"></i><b>6.5.5</b> Subsetting character vectors</a></li>
<li class="chapter" data-level="6.5.6" data-path="chap6.html"><a href="chap6.html#subsetting-factor-vectors"><i class="fa fa-check"></i><b>6.5.6</b> Subsetting factor vectors</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="chap6.html"><a href="chap6.html#transformationmanipulation-of-datasets"><i class="fa fa-check"></i><b>6.6</b> Transformation/Manipulation of datasets</a></li>
<li class="chapter" data-level="" data-path="chap6.html"><a href="chap6.html#references-1"><i class="fa fa-check"></i>References</a><ul>
<li class="chapter" data-level="" data-path="chap6.html"><a href="chap6.html#quick-reference-on-functions"><i class="fa fa-check"></i>Quick reference on functions</a></li>
<li class="chapter" data-level="" data-path="chap6.html"><a href="chap6.html#packages-to-read-further-on"><i class="fa fa-check"></i>Packages to read further on</a></li>
<li class="chapter" data-level="" data-path="chap6.html"><a href="chap6.html#r-manuals"><i class="fa fa-check"></i>R Manuals</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="chap7.html"><a href="chap7.html"><i class="fa fa-check"></i><b>7</b> Working with Dates and Time</a><ul>
<li class="chapter" data-level="" data-path="chap7.html"><a href="chap7.html#goal-2"><i class="fa fa-check"></i>Goal</a></li>
<li class="chapter" data-level="" data-path="chap7.html"><a href="chap7.html#what-we-shall-cover-5"><i class="fa fa-check"></i>What we shall cover</a></li>
<li class="chapter" data-level="" data-path="chap7.html"><a href="chap7.html#prerequisite-3"><i class="fa fa-check"></i>Prerequisite</a></li>
<li class="chapter" data-level="7.1" data-path="chap7.html"><a href="chap7.html#recognising-date-time-objects-in-r"><i class="fa fa-check"></i><b>7.1</b> Recognising date-time objects in R</a><ul>
<li class="chapter" data-level="7.1.1" data-path="chap7.html"><a href="chap7.html#current-date"><i class="fa fa-check"></i><b>7.1.1</b> Current date</a></li>
<li class="chapter" data-level="7.1.2" data-path="chap7.html"><a href="chap7.html#current-time"><i class="fa fa-check"></i><b>7.1.2</b> Current Time</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="chap7.html"><a href="chap7.html#creating-date-time-objects-in-base-r"><i class="fa fa-check"></i><b>7.2</b> Creating date-time objects in base R</a><ul>
<li class="chapter" data-level="7.2.1" data-path="chap7.html"><a href="chap7.html#posix"><i class="fa fa-check"></i><b>7.2.1</b> POSIX</a></li>
<li class="chapter" data-level="7.2.2" data-path="chap7.html"><a href="chap7.html#creating-posixct-objects"><i class="fa fa-check"></i><b>7.2.2</b> Creating POSIXct objects</a></li>
<li class="chapter" data-level="7.2.3" data-path="chap7.html"><a href="chap7.html#creating-posixlt-objects"><i class="fa fa-check"></i><b>7.2.3</b> Creating POSIXlt Objects</a></li>
<li class="chapter" data-level="7.2.4" data-path="chap7.html"><a href="chap7.html#creating-date-time-object-using-strptime"><i class="fa fa-check"></i><b>7.2.4</b> Creating date-time Object using “strptime()”</a></li>
<li class="chapter" data-level="7.2.5" data-path="chap7.html"><a href="chap7.html#converting-numeric-data-to-date-and-time-object"><i class="fa fa-check"></i><b>7.2.5</b> Converting numeric data to date and time object</a></li>
<li class="chapter" data-level="7.2.6" data-path="chap7.html"><a href="chap7.html#creating-date-and-time-factor-vectors"><i class="fa fa-check"></i><b>7.2.6</b> Creating date and time factor vectors</a></li>
<li class="chapter" data-level="7.2.7" data-path="chap7.html"><a href="chap7.html#creating-date-objects"><i class="fa fa-check"></i><b>7.2.7</b> Creating Date objects</a></li>
<li class="chapter" data-level="7.2.8" data-path="chap7.html"><a href="chap7.html#computationDateTime"><i class="fa fa-check"></i><b>7.2.8</b> Computation with date and time objects</a></li>
<li class="chapter" data-level="7.2.9" data-path="chap7.html"><a href="chap7.html#extracting-parts-of-a-date-time-object"><i class="fa fa-check"></i><b>7.2.9</b> Extracting parts of a date-time object</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chap7.html"><a href="chap7.html#references-2"><i class="fa fa-check"></i>References</a><ul>
<li class="chapter" data-level="" data-path="chap7.html"><a href="chap7.html#quick-reference-on-functions-1"><i class="fa fa-check"></i>Quick reference on functions</a></li>
<li class="chapter" data-level="" data-path="chap7.html"><a href="chap7.html#other-packages-on-date-and-time"><i class="fa fa-check"></i>Other Packages on date and time</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="chap8.html"><a href="chap8.html"><i class="fa fa-check"></i><b>8</b> Plotting in Base R</a><ul>
<li class="chapter" data-level="" data-path="chap8.html"><a href="chap8.html#goal-3"><i class="fa fa-check"></i>Goal</a></li>
<li class="chapter" data-level="" data-path="chap8.html"><a href="chap8.html#what-we-shall-cover-6"><i class="fa fa-check"></i>What we shall cover</a></li>
<li class="chapter" data-level="" data-path="chap8.html"><a href="chap8.html#prerequisite-4"><i class="fa fa-check"></i>Prerequisite</a></li>
<li class="chapter" data-level="8.1" data-path="chap8.html"><a href="chap8.html#introduction"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="chap8.html"><a href="chap8.html#understanding-base-r-plotting-function"><i class="fa fa-check"></i><b>8.2</b> Understanding base R plotting function</a><ul>
<li class="chapter" data-level="8.2.1" data-path="chap8.html"><a href="chap8.html#some-outputs-of-plot"><i class="fa fa-check"></i><b>8.2.1</b> Some outputs of plot()</a></li>
<li class="chapter" data-level="8.2.2" data-path="chap8.html"><a href="chap8.html#functionDefinition"><i class="fa fa-check"></i><b>8.2.2</b> plot() Internals</a></li>
<li class="chapter" data-level="8.2.3" data-path="chap8.html"><a href="chap8.html#step-one-opening-new-window"><i class="fa fa-check"></i><b>8.2.3</b> Step one: Opening new window</a></li>
<li class="chapter" data-level="8.2.4" data-path="chap8.html"><a href="chap8.html#step-two-setting-plotting-coordinates"><i class="fa fa-check"></i><b>8.2.4</b> Step two: Setting plotting coordinates</a></li>
<li class="chapter" data-level="8.2.5" data-path="chap8.html"><a href="chap8.html#step-three-evaluate-and-execute-pre-post-functions"><i class="fa fa-check"></i><b>8.2.5</b> Step three: Evaluate and execute pre-post functions</a></li>
<li class="chapter" data-level="8.2.6" data-path="chap8.html"><a href="chap8.html#step-four-plotting"><i class="fa fa-check"></i><b>8.2.6</b> Step four: Plotting</a></li>
<li class="chapter" data-level="8.2.7" data-path="chap8.html"><a href="chap8.html#step-five-evaluation-of-post-plot-and-pre-axis-expressions"><i class="fa fa-check"></i><b>8.2.7</b> Step five: Evaluation of post-plot and pre-axis expressions</a></li>
<li class="chapter" data-level="8.2.8" data-path="chap8.html"><a href="chap8.html#step-six-construct-axis"><i class="fa fa-check"></i><b>8.2.8</b> Step six: Construct Axis</a></li>
<li class="chapter" data-level="8.2.9" data-path="chap8.html"><a href="chap8.html#step-seven-ploting-frame"><i class="fa fa-check"></i><b>8.2.9</b> Step Seven: Ploting frame</a></li>
<li class="chapter" data-level="8.2.10" data-path="chap8.html"><a href="chap8.html#step-eight-annotation"><i class="fa fa-check"></i><b>8.2.10</b> Step Eight: Annotation</a></li>
<li class="chapter" data-level="8.2.11" data-path="chap8.html"><a href="chap8.html#summary-final-output"><i class="fa fa-check"></i><b>8.2.11</b> Summary: Final output</a></li>
<li class="chapter" data-level="8.2.12" data-path="chap8.html"><a href="chap8.html#commentedDefinition"><i class="fa fa-check"></i><b>8.2.12</b> A commented basic plot definition</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="chap8.html"><a href="chap8.html#par"><i class="fa fa-check"></i><b>8.3</b> Graphical Parameters and Annotating Base R Plots</a><ul>
<li class="chapter" data-level="8.3.1" data-path="chap8.html"><a href="chap8.html#querying-saving-and-resetting-graphical-parameters"><i class="fa fa-check"></i><b>8.3.1</b> Querying, saving and resetting graphical parameters</a></li>
<li class="chapter" data-level="8.3.2" data-path="chap8.html"><a href="chap8.html#settingchanging-graphical-parameters"><i class="fa fa-check"></i><b>8.3.2</b> Setting/Changing graphical parameters</a></li>
<li class="chapter" data-level="8.3.3" data-path="chap8.html"><a href="chap8.html#implementing-some-graphical-parameters-and-annotation"><i class="fa fa-check"></i><b>8.3.3</b> Implementing some graphical parameters and annotation</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="chap8.html"><a href="chap8.html#plotting-characters-pch"><i class="fa fa-check"></i><b>8.4</b> Plotting characters (pch)</a></li>
<li class="chapter" data-level="8.5" data-path="chap8.html"><a href="chap8.html#plotTypes"><i class="fa fa-check"></i><b>8.5</b> Plot types</a><ul>
<li class="chapter" data-level="8.5.1" data-path="chap8.html"><a href="chap8.html#annotating-plots-with-lines"><i class="fa fa-check"></i><b>8.5.1</b> Annotating plots with lines</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="chap8.html"><a href="chap8.html#generating-and-annotating-mathematical-plots"><i class="fa fa-check"></i><b>8.6</b> Generating and Annotating Mathematical Plots</a></li>
<li class="chapter" data-level="8.7" data-path="chap8.html"><a href="chap8.html#other-base-r-plots"><i class="fa fa-check"></i><b>8.7</b> Other Base R Plots</a><ul>
<li class="chapter" data-level="8.7.1" data-path="chap8.html"><a href="chap8.html#histDensityPlots"><i class="fa fa-check"></i><b>8.7.1</b> Histogram and Density plots</a></li>
<li class="chapter" data-level="8.7.2" data-path="chap8.html"><a href="chap8.html#box-box-and-whisker-plots"><i class="fa fa-check"></i><b>8.7.2</b> Box (box-and-whisker) plots</a></li>
<li class="chapter" data-level="8.7.3" data-path="chap8.html"><a href="chap8.html#strip-chartsdot-plots"><i class="fa fa-check"></i><b>8.7.3</b> Strip Charts/Dot Plots</a></li>
<li class="chapter" data-level="8.7.4" data-path="chap8.html"><a href="chap8.html#conditional-plots-coplot"><i class="fa fa-check"></i><b>8.7.4</b> Conditional Plots (Coplot)</a></li>
<li class="chapter" data-level="8.7.5" data-path="chap8.html"><a href="chap8.html#stem-and-leaf-plot"><i class="fa fa-check"></i><b>8.7.5</b> Stem and Leaf plot</a></li>
<li class="chapter" data-level="8.7.6" data-path="chap8.html"><a href="chap8.html#bar-graphs-and-pie-chart"><i class="fa fa-check"></i><b>8.7.6</b> Bar graphs and pie chart</a></li>
<li class="chapter" data-level="8.7.7" data-path="chap8.html"><a href="chap8.html#mosaic"><i class="fa fa-check"></i><b>8.7.7</b> Mosaic</a></li>
<li class="chapter" data-level="8.7.8" data-path="chap8.html"><a href="chap8.html#fourfold-plots"><i class="fa fa-check"></i><b>8.7.8</b> Fourfold Plots</a></li>
<li class="chapter" data-level="8.7.9" data-path="chap8.html"><a href="chap8.html#sunflower-plots"><i class="fa fa-check"></i><b>8.7.9</b> Sunflower plots</a></li>
<li class="chapter" data-level="8.7.10" data-path="chap8.html"><a href="chap8.html#time-series-plots-line"><i class="fa fa-check"></i><b>8.7.10</b> Time series plots (line)</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="chap8.html"><a href="chap8.html#colours"><i class="fa fa-check"></i><b>8.8</b> Colors</a><ul>
<li class="chapter" data-level="8.8.1" data-path="chap8.html"><a href="chap8.html#expected-values-for-color-based-arguments"><i class="fa fa-check"></i><b>8.8.1</b> Expected values for color-based arguments</a></li>
<li class="chapter" data-level="8.8.2" data-path="chap8.html"><a href="chap8.html#defining-a-new-palette"><i class="fa fa-check"></i><b>8.8.2</b> Defining a new palette</a></li>
<li class="chapter" data-level="8.8.3" data-path="chap8.html"><a href="chap8.html#palettes-makers"><i class="fa fa-check"></i><b>8.8.3</b> Palettes makers</a></li>
<li class="chapter" data-level="8.8.4" data-path="chap8.html"><a href="chap8.html#creating-palettes-by-interpolation-colors"><i class="fa fa-check"></i><b>8.8.4</b> Creating palettes by interpolation colors</a></li>
<li class="chapter" data-level="8.8.5" data-path="chap8.html"><a href="chap8.html#color-models-and-spaces"><i class="fa fa-check"></i><b>8.8.5</b> Color Models and Spaces</a></li>
<li class="chapter" data-level="8.8.6" data-path="chap8.html"><a href="chap8.html#creating-new-colours"><i class="fa fa-check"></i><b>8.8.6</b> Creating New Colours</a></li>
<li class="chapter" data-level="8.8.7" data-path="chap8.html"><a href="chap8.html#color-adjustment"><i class="fa fa-check"></i><b>8.8.7</b> Color adjustment</a></li>
<li class="chapter" data-level="8.8.8" data-path="chap8.html"><a href="chap8.html#colorConversion"><i class="fa fa-check"></i><b>8.8.8</b> Color conversion and Transformation</a></li>
</ul></li>
<li class="chapter" data-level="8.9" data-path="chap8.html"><a href="chap8.html#other-plotting-and-color-palette-packages"><i class="fa fa-check"></i><b>8.9</b> Other Plotting and Color Palette Packages</a></li>
<li class="chapter" data-level="8.10" data-path="chap8.html"><a href="chap8.html#graphicalDevices"><i class="fa fa-check"></i><b>8.10</b> Graphical Devices</a></li>
<li class="chapter" data-level="" data-path="chap8.html"><a href="chap8.html#references-3"><i class="fa fa-check"></i>References</a><ul>
<li class="chapter" data-level="" data-path="chap8.html"><a href="chap8.html#quick-reference-on-functions-2"><i class="fa fa-check"></i>Quick reference on functions</a></li>
<li class="chapter" data-level="" data-path="chap8.html"><a href="chap8.html#packages-to-read-further-on-1"><i class="fa fa-check"></i>Packages to read further on</a></li>
<li class="chapter" data-level="" data-path="chap8.html"><a href="chap8.html#r-manuals-1"><i class="fa fa-check"></i>R Manuals</a></li>
<li class="chapter" data-level="" data-path="chap8.html"><a href="chap8.html#basics-of-plotting-in-r"><i class="fa fa-check"></i>Basics of plotting in R</a></li>
<li class="chapter" data-level="" data-path="chap8.html"><a href="chap8.html#calling-and-changing-graphical-parameters"><i class="fa fa-check"></i>Calling and changing graphical parameters</a></li>
<li class="chapter" data-level="" data-path="chap8.html"><a href="chap8.html#annotating-plots"><i class="fa fa-check"></i>Annotating plots</a></li>
<li class="chapter" data-level="" data-path="chap8.html"><a href="chap8.html#producing-different-base-r-plots"><i class="fa fa-check"></i>Producing different base R plots</a></li>
<li class="chapter" data-level="" data-path="chap8.html"><a href="chap8.html#using-and-creating-colors-in-base-r"><i class="fa fa-check"></i>Using and creating colors in base R</a></li>
<li class="chapter" data-level="" data-path="chap8.html"><a href="chap8.html#rs-graphical-devices"><i class="fa fa-check"></i>R’s graphical devices</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="chap9.html"><a href="chap9.html"><i class="fa fa-check"></i><b>9</b> Where and How to Get Help</a><ul>
<li class="chapter" data-level="" data-path="chap9.html"><a href="chap9.html#goal-4"><i class="fa fa-check"></i>Goal</a></li>
<li class="chapter" data-level="" data-path="chap9.html"><a href="chap9.html#what-we-shall-cover-7"><i class="fa fa-check"></i>What we shall cover</a></li>
<li class="chapter" data-level="" data-path="chap9.html"><a href="chap9.html#prerequisite-5"><i class="fa fa-check"></i>Prerequisite</a></li>
<li class="chapter" data-level="9.1" data-path="chap9.html"><a href="chap9.html#introduction-1"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="chap9.html"><a href="chap9.html#problem-identification"><i class="fa fa-check"></i><b>9.2</b> Problem Identification</a><ul>
<li class="chapter" data-level="9.2.1" data-path="chap1.html"><a href="chap1.html#errors"><i class="fa fa-check"></i><b>9.2.1</b> Errors</a></li>
<li class="chapter" data-level="9.2.2" data-path="chap9.html"><a href="chap9.html#warning-messages"><i class="fa fa-check"></i><b>9.2.2</b> Warning Messages</a></li>
<li class="chapter" data-level="9.2.3" data-path="chap9.html"><a href="chap9.html#unexpected-output"><i class="fa fa-check"></i><b>9.2.3</b> Unexpected Output</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="chap9.html"><a href="chap9.html#problemSolving"><i class="fa fa-check"></i><b>9.3</b> Solving (defined) coding problems</a><ul>
<li class="chapter" data-level="9.3.1" data-path="chap9.html"><a href="chap9.html#problems-where-functions-are-unknown"><i class="fa fa-check"></i><b>9.3.1</b> Problems where functions are unknown</a></li>
<li class="chapter" data-level="9.3.2" data-path="chap9.html"><a href="chap9.html#problems-where-functions-are-known"><i class="fa fa-check"></i><b>9.3.2</b> Problems where functions are known</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="chap9.html"><a href="chap9.html#where-to-get-help"><i class="fa fa-check"></i><b>9.4</b> Where to get help</a><ul>
<li class="chapter" data-level="9.4.1" data-path="chap9.html"><a href="chap9.html#knowledge-and-skills"><i class="fa fa-check"></i><b>9.4.1</b> Knowledge and Skills</a></li>
<li class="chapter" data-level="9.4.2" data-path="chap9.html"><a href="chap9.html#rs-documentations-internal-sources"><i class="fa fa-check"></i><b>9.4.2</b> R’s Documentations (Internal sources)</a></li>
<li class="chapter" data-level="9.4.3" data-path="chap9.html"><a href="chap9.html#externalSources"><i class="fa fa-check"></i><b>9.4.3</b> External sources of help</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="chap9.html"><a href="chap9.html#example-problem-statistical-mode"><i class="fa fa-check"></i><b>9.5</b> Example problem: Statistical mode</a></li>
<li class="chapter" data-level="" data-path="chap9.html"><a href="chap9.html#references-4"><i class="fa fa-check"></i>References</a><ul>
<li class="chapter" data-level="" data-path="chap9.html"><a href="chap9.html#quick-reference-on-functions-3"><i class="fa fa-check"></i>Quick reference on functions</a></li>
<li class="chapter" data-level="" data-path="chap9.html"><a href="chap9.html#r-manuals-3"><i class="fa fa-check"></i>R Manuals</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="chap10.html"><a href="chap10.html"><i class="fa fa-check"></i><b>10</b> Case Studies</a><ul>
<li class="chapter" data-level="" data-path="chap10.html"><a href="chap10.html#goal-5"><i class="fa fa-check"></i>Goal</a></li>
<li class="chapter" data-level="" data-path="chap10.html"><a href="chap10.html#prerequisite-6"><i class="fa fa-check"></i>Prerequisite</a></li>
<li class="chapter" data-level="10.1" data-path="chap10.html"><a href="chap10.html#case-study-one--importing-online-data"><i class="fa fa-check"></i><b>10.1</b> Case Study One:- Importing online data</a><ul>
<li class="chapter" data-level="10.1.1" data-path="chap10.html"><a href="chap10.html#task"><i class="fa fa-check"></i><b>10.1.1</b> Task</a></li>
<li class="chapter" data-level="10.1.2" data-path="chap10.html"><a href="chap10.html#what-we-shall-cover-8"><i class="fa fa-check"></i><b>10.1.2</b> What we shall cover</a></li>
<li class="chapter" data-level="10.1.3" data-path="chap10.html"><a href="chap10.html#background-and-data"><i class="fa fa-check"></i><b>10.1.3</b> Background and Data</a></li>
<li class="chapter" data-level="10.1.4" data-path="chap10.html"><a href="chap10.html#web-scraping"><i class="fa fa-check"></i><b>10.1.4</b> Web scraping</a></li>
<li class="chapter" data-level="10.1.5" data-path="chap10.html"><a href="chap10.html#html-documents"><i class="fa fa-check"></i><b>10.1.5</b> HTML Document’s</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chap10.html"><a href="chap10.html#references-5"><i class="fa fa-check"></i>References</a><ul>
<li class="chapter" data-level="" data-path="chap10.html"><a href="chap10.html#online-web-sites"><i class="fa fa-check"></i>Online web sites</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="r.html"><a href="r.html"><i class="fa fa-check"></i><b>A</b> Downloading and Installing R</a><ul>
<li class="chapter" data-level="A.1" data-path="r.html"><a href="r.html#downloading-r"><i class="fa fa-check"></i><b>A.1</b> Downloading R</a></li>
<li class="chapter" data-level="A.2" data-path="r.html"><a href="r.html#installing-r"><i class="fa fa-check"></i><b>A.2</b> Installing R</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="rstudio.html"><a href="rstudio.html"><i class="fa fa-check"></i><b>B</b> Downloading and Installing RStudio</a><ul>
<li class="chapter" data-level="B.1" data-path="rstudio.html"><a href="rstudio.html#downloading-rstudio"><i class="fa fa-check"></i><b>B.1</b> Downloading RStudio</a></li>
<li class="chapter" data-level="B.2" data-path="rstudio.html"><a href="rstudio.html#installing-rstudio"><i class="fa fa-check"></i><b>B.2</b> Installing Rstudio</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="files.html"><a href="files.html"><i class="fa fa-check"></i><b>C</b> Files</a><ul>
<li class="chapter" data-level="C.1" data-path="files.html"><a href="files.html#definition-and-file-names"><i class="fa fa-check"></i><b>C.1</b> Definition and file names</a></li>
<li class="chapter" data-level="C.2" data-path="files.html"><a href="files.html#formats"><i class="fa fa-check"></i><b>C.2</b> File formats</a></li>
<li class="chapter" data-level="C.3" data-path="files.html"><a href="files.html#paths"><i class="fa fa-check"></i><b>C.3</b> File Paths</a></li>
<li class="chapter" data-level="C.4" data-path="files.html"><a href="files.html#encoding"><i class="fa fa-check"></i><b>C.4</b> Encoding</a><ul>
<li class="chapter" data-level="C.4.1" data-path="files.html"><a href="files.html#ascii"><i class="fa fa-check"></i><b>C.4.1</b> ASCII</a></li>
<li class="chapter" data-level="C.4.2" data-path="files.html"><a href="files.html#utf-8"><i class="fa fa-check"></i><b>C.4.2</b> UTF-8</a></li>
</ul></li>
<li class="chapter" data-level="C.5" data-path="files.html"><a href="files.html#types-of-files"><i class="fa fa-check"></i><b>C.5</b> Types of files</a><ul>
<li class="chapter" data-level="C.5.1" data-path="files.html"><a href="files.html#text-files-and-binary-files"><i class="fa fa-check"></i><b>C.5.1</b> Text files and binary files</a></li>
<li class="chapter" data-level="C.5.2" data-path="files.html"><a href="files.html#free-format"><i class="fa fa-check"></i><b>C.5.2</b> Free format</a></li>
<li class="chapter" data-level="C.5.3" data-path="files.html"><a href="files.html#other-file-types-supported-by-base-r"><i class="fa fa-check"></i><b>C.5.3</b> Other file types supported by base R</a></li>
</ul></li>
<li class="chapter" data-level="C.6" data-path="files.html"><a href="files.html#summary"><i class="fa fa-check"></i><b>C.6</b> Summary</a></li>
<li class="chapter" data-level="C.7" data-path="files.html"><a href="files.html#references-6"><i class="fa fa-check"></i><b>C.7</b> References</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://helleng.github.io/Data_Mgt_Analysis_and_Graphics_R/tutorials" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Essentials</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chap10" class="section level1">
<h1><span class="header-section-number">Chapter 10</span> Case Studies</h1>
<div id="goal-5" class="section level2 unnumbered">
<h2>Goal</h2>
<p>The main goal of this chapter is to apply lessons learnt in this book through a series of case studies. We will begin with one case study and subsequent case studies will be added from suggestions made.</p>
</div>
<div id="prerequisite-6" class="section level2 unnumbered">
<h2>Prerequisite</h2>
<p>To appreciate this chapter, you must have gone through all the other chapters (1-9).</p>
</div>
<div id="case-study-one--importing-online-data" class="section level2">
<h2><span class="header-section-number">10.1</span> Case Study One:- Importing online data</h2>
<div id="task" class="section level3">
<h3><span class="header-section-number">10.1.1</span> Task</h3>
<p>Using pure base R (no contributed packages), extract 800m and marathon data on recently held (summer) Olympics games and prepare it for data analysis (create data frames).</p>
<p>There are a number of excellent R packages suitable for this task, however, it is best to use packages when we have some basic idea of how it works.</p>
</div>
<div id="what-we-shall-cover-8" class="section level3">
<h3><span class="header-section-number">10.1.2</span> What we shall cover</h3>
<p>In addition to reviewing what we have covered in chapter one, we shall also learn how to:</p>
<ul>
<li>Import web data using base R <code>readLines()</code></li>
<li>Read and understand web data (basic HTML)</li>
<li>Extract web data (using CSS selectors)</li>
</ul>
</div>
<div id="background-and-data" class="section level3">
<h3><span class="header-section-number">10.1.3</span> Background and Data</h3>
<p>Our first case study is all about extracting online data and making it available for analysis. Basic reason for having this as our first case study is because the web is full of (underutilized) data and most often you will find it necessary to use some of these data.</p>
<p>To make this interesting, we will look at the recent (2016) Summer Olympics games.</p>
<p>As we venture into this case study, some of the topics we will review are creating data objects (data frame) and converting data into a date-time object.</p>
<p>Olympics has quite a number of events, from <code>Archery</code> all the way to <code>Wrestling</code>. For this exercise, our interest will be <code>Athletics</code> and more specifically 800m and Marathon events.</p>
<p>We will scrape our data from Wikipedia; <code>https://en.wikipedia.org/wiki/800_meteres</code> and <code>https://en.wikipedia.org/wiki/Marathon_at_the_Olympics</code>. From these two pages, we will look for and extract tables giving Olympics medal standing for each event as of 2016 dis-aggregated by gender.</p>
</div>
<div id="web-scraping" class="section level3">
<h3><span class="header-section-number">10.1.4</span> Web scraping</h3>
<p>The simplest part of web scraping (data extraction) is actual data importation. This is because in addition to base R’s <code>readLines()</code> functions, there are contributed packages (from CRAN, and other repositories) with functions capable of achieving this task.</p>
<p>To learn more about what is available in terms of contributed packages, read <code>https://cran.r-project.org/web/view/WebTechnologies.html</code>. However, as mentioned before, for this chapter we will try as much as possible to use only base R functions as we want to get a good understanding of the concepts right from the beginning. This will not only help us understand how contributed packages like <em>XML</em> and <em>rvest</em> work, but will also ensure we can still extract and traverse through web data when we do not have access to these packages.</p>
<p>With that said, our first task is to download/scrap/import our data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">url1 &lt;-<span class="st"> &quot;https://en.wikipedia.org/wiki/800_metres&quot;</span>
url2 &lt;-<span class="st"> &quot;https://en.wikipedia.org/wiki/Marathon_at_the_Olympics&quot;</span>
wiki800mDOM &lt;-<span class="st"> </span><span class="kw">readLines</span>(url1)
wikiMarathonDOM &lt;-<span class="st"> </span><span class="kw">readLines</span>(url2)</code></pre></div>
<p>As you have seen, downloading data is rather easy. Now let’s find out what data structure is created when we import web data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(wiki800mDOM)
##  chr [1:2545] &quot;&lt;!DOCTYPE html&gt;&quot; ...
<span class="kw">str</span>(wikiMarathonDOM)
##  chr [1:1391] &quot;&lt;!DOCTYPE html&gt;&quot; ...</code></pre></div>
<p>We have character vectors, now let’s take a close look at these character.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(wiki800mDOM)
## [1] &quot;&lt;!DOCTYPE html&gt;&quot;                                                                                                                                    
## [2] &quot;&lt;html class=\&quot;client-nojs\&quot; lang=\&quot;en\&quot; dir=\&quot;ltr\&quot;&gt;&quot;                                                                                               
## [3] &quot;&lt;head&gt;&quot;                                                                                                                                             
## [4] &quot;&lt;meta charset=\&quot;UTF-8\&quot;/&gt;&quot;                                                                                                                          
## [5] &quot;&lt;title&gt;800 metres - Wikipedia&lt;/title&gt;&quot;                                                                                                              
## [6] &quot;&lt;script&gt;document.documentElement.className = document.documentElement.className.replace( /(^|\\s)client-nojs(\\s|$)/, \&quot;$1client-js$2\&quot; );&lt;/script&gt;&quot;
<span class="kw">tail</span>(wiki800mDOM)
## [1] &quot;\t\t\t\t\t\t\t\t\t&lt;/ul&gt;&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
## [2] &quot;\t\t\t\t\t\t&lt;div style=\&quot;clear:both\&quot;&gt;&lt;/div&gt;&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
## [3] &quot;\t\t&lt;/div&gt;&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
## [4] &quot;\t\t&lt;script&gt;(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\&quot;wgPageParseReport\&quot;:{\&quot;limitreport\&quot;:{\&quot;cputime\&quot;:\&quot;1.268\&quot;,\&quot;walltime\&quot;:\&quot;1.452\&quot;,\&quot;ppvisitednodes\&quot;:{\&quot;value\&quot;:33739,\&quot;limit\&quot;:1000000},\&quot;ppgeneratednodes\&quot;:{\&quot;value\&quot;:0,\&quot;limit\&quot;:1500000},\&quot;postexpandincludesize\&quot;:{\&quot;value\&quot;:353844,\&quot;limit\&quot;:2097152},\&quot;templateargumentsize\&quot;:{\&quot;value\&quot;:69217,\&quot;limit\&quot;:2097152},\&quot;expansiondepth\&quot;:{\&quot;value\&quot;:12,\&quot;limit\&quot;:40},\&quot;expensivefunctioncount\&quot;:{\&quot;value\&quot;:0,\&quot;limit\&quot;:500},\&quot;entityaccesscount\&quot;:{\&quot;value\&quot;:0,\&quot;limit\&quot;:400},\&quot;timingprofile\&quot;:[\&quot;100.00%  969.435      1 -total\&quot;,\&quot; 56.84%  551.033    132 Template:FlagIOCathlete\&quot;,\&quot; 50.99%  494.312    264 Template:Country_alias\&quot;,\&quot; 36.25%  351.410      1 Template:Olympic_medalists_in_men&#39;s_800_metres\&quot;,\&quot; 22.70%  220.058      1 Template:Olympic_medalists_in_women&#39;s_800_metres\&quot;,\&quot; 15.35%  148.793    281 Template:Flagathlete\&quot;,\&quot;  5.90%   57.152      1 Template:Reflist\&quot;,\&quot;  5.60%   54.312      1 Template:World_Championships_in_Athletics_medalists_in_men&#39;s_800_metres\&quot;,\&quot;  4.95%   47.970      7 Template:Cite_web\&quot;,\&quot;  4.76%   46.168    281 Template:Country_flagbio\&quot;]},\&quot;scribunto\&quot;:{\&quot;limitreport-timeusage\&quot;:{\&quot;value\&quot;:\&quot;0.420\&quot;,\&quot;limit\&quot;:\&quot;10.000\&quot;},\&quot;limitreport-memusage\&quot;:{\&quot;value\&quot;:3818560,\&quot;limit\&quot;:52428800}},\&quot;cachereport\&quot;:{\&quot;origin\&quot;:\&quot;mw1275\&quot;,\&quot;timestamp\&quot;:\&quot;20170129135501\&quot;,\&quot;ttl\&quot;:2592000,\&quot;transientcontent\&quot;:false}}});});&lt;/script&gt;&lt;script&gt;(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\&quot;wgBackendResponseTime\&quot;:1538,\&quot;wgHostname\&quot;:\&quot;mw1275\&quot;});});&lt;/script&gt;&quot;
## [5] &quot;\t&lt;/body&gt;&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
## [6] &quot;&lt;/html&gt;&quot;
<span class="kw">head</span>(wikiMarathonDOM)
## [1] &quot;&lt;!DOCTYPE html&gt;&quot;                                                                                                                                    
## [2] &quot;&lt;html class=\&quot;client-nojs\&quot; lang=\&quot;en\&quot; dir=\&quot;ltr\&quot;&gt;&quot;                                                                                               
## [3] &quot;&lt;head&gt;&quot;                                                                                                                                             
## [4] &quot;&lt;meta charset=\&quot;UTF-8\&quot;/&gt;&quot;                                                                                                                          
## [5] &quot;&lt;title&gt;Marathons at the Olympics - Wikipedia&lt;/title&gt;&quot;                                                                                               
## [6] &quot;&lt;script&gt;document.documentElement.className = document.documentElement.className.replace( /(^|\\s)client-nojs(\\s|$)/, \&quot;$1client-js$2\&quot; );&lt;/script&gt;&quot;
<span class="kw">tail</span>(wikiMarathonDOM)
## [1] &quot;\t\t\t\t\t\t\t\t\t&lt;/ul&gt;&quot;                                                                                                                            
## [2] &quot;\t\t\t\t\t\t&lt;div style=\&quot;clear:both\&quot;&gt;&lt;/div&gt;&quot;                                                                                                    
## [3] &quot;\t\t&lt;/div&gt;&quot;                                                                                                                                  
## [4] &quot;\t\t&lt;script&gt;(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({\&quot;wgBackendResponseTime\&quot;:68,\&quot;wgHostname\&quot;:\&quot;mw1216\&quot;});});&lt;/script&gt;&quot;
## [5] &quot;\t&lt;/body&gt;&quot;                                                                                                                                  
## [6] &quot;&lt;/html&gt;&quot;</code></pre></div>
<p>This is not exactly what we expected. What we wanted to see are headers, paragraphs and tables at the very least. So what happened, did R corrupt our data?</p>
<p>To answer this question, lets take a good look at our wiki pages and determine what content we want. From our 800m webpage, we are interested in the two tables (men and women) following the header “Olympic medalist” and from our marathon page we what the men and women tables under the title “Medal Summary”.</p>
<p>Now, right click on either of the pages and scroll to the bottom of the pop-up window, click on <em>view page source</em> (or <code>ctrl+u</code> from Windows). This will open another window with URL starting with “view-source:”, this window can be refereed to as a <code>source page</code>. Content of this page looks a lot like R’s scraped data, which means R did not corrupted our data, it only shipped in data in a format that we did not expect.</p>
<p>With that, our next logical question is; “Given this format, how can we locate and extract our data (tables)?”. To answer this question we need to know what type of data R has scraped. Let’s go back to “view-source:” web page and look at line 1. We can see document type is declared as “html” which stands for “hypertext markup language”. <em>Markup</em> is information and/or instruction added to web content mostly for structure and display purposes. Basically this is what will distinguish a header and a paragraph, usual content and content meant to be part of a table, as well as layout of different content on the webpage. This markup comes in the form of <a href="chap10.html#tags">tags</a>; the angle brackets and text (<text>) you see on the source page.</p>
<p>So somewhere withing all we see on the source page is our data and we must now figure out how to extract it in a form ready for analysis or reporting. In order for us to do this we need to know a little bit of HTML (just enough to traverse and extract what we need).</p>
<p>Based on this, in our next section we get to understand HTML from a data extraction point of view or the basic concepts (as opposed to a web developers point of view which requires an in-depth understanding).</p>
<div id="understanding-html" class="section level4">
<h4><span class="header-section-number">10.1.4.1</span> Understanding HTML</h4>
<p>There are three widely used web development languages, these are <code>XML</code> (Extensible Markup Language), <code>HTML</code> (Hypertext Markup Language) and <code>XHTM</code> (Extensible Hypertext Markup Language). Out of these three, HTML is the most widely used web language.</p>
<p>As you can tell from the names of all of these three languages, they are all markup languages, which means they use things called <strong>tags</strong> to give information about a web content (think of markup as a language to a web browser, that is, markup tells a web browser the type of content you have and how to handle it). The core distinguishing feature of these three markup languages are the names given to their tags; for HTML, they are clearly defined, but for XML, they are not defined. XHTML has both defined a undefined tags names, it is more like a cross breed of XML and HTML (All this will become clear in our next section).</p>
<p>Since we are most likely to come across HTML than the other two languages and since our “Wikipedia webpage” is written in HTML, we shall discuss and explore core concepts of HTML but with an understanding that these concepts can easily be extended to XML and XHTML.</p>
<div id="basic-html" class="section level5">
<h5><span class="header-section-number">10.1.4.1.1</span> Basic HTML</h5>
<p>There are two things to grasp as far as HTML for data extraction/scraping is concerned. These are elements and their relationships. If you understand these two concepts, then you can easily traverse through imported data.</p>
<p>Let’s take look at each of these concepts in turn, but take note, HTML code can be what I call <code>general HTML</code> (omissions allowed by HTML specifications) or strict HTML (parsed HTML). Where necessary, we shall highlight difference between the two.</p>
<div id="elements" class="section level6">
<h6><span class="header-section-number">10.1.4.1.1.1</span> HTML Elements</h6>
<p>HTML elements are single components that build a web page. These single components (elements) are built with <code>tags</code>, <code>attributes</code> and <code>text</code>.</p>
</div>
<div id="tags" class="section level6">
<h6><span class="header-section-number">10.1.4.1.1.2</span> Tags</h6>
<p>Tags are <code>markup</code> which enclose content with information about the content; information like type of content. There are two types of tags, <code>opening</code> and <code>closing</code>. Both tags begin with a left angle bracket (&lt;) and end with a right (&gt;) angle bracket. For opening tags, in between the angle brackets are tag name and optional additional information known as <code>attributes</code>. For closing brackets, in between the angle brackets is a backslash (<code>/</code>) and a tag name (presence of a <code>/</code> indicates a closing bracket).</p>
<p>In HTML, tag names are predefined, for example, header begin with letter <code>h</code> and end with a number between 1 and 6 which indicate header level. Paragraphs have a <code>p</code> tag name, tables have <code>table</code> tag name, table rows have a <code>tr</code> tag name, and images have a <code>img</code> tag name. Check <a href="http://www.w3schools.com/tags/">w3schools</a> to see all HTML defined tag names.</p>
<p>Here are examples of opening and closing tags. Take note, HTML comments are added with <code>/*Comment*/</code>.</p>
<pre><code>Opening tags
=============
&lt;h1&gt;      /*This is a level one header*/
&lt;p&gt;       /*This indicates content is a paragraph*/
&lt;table&gt;   /*This begins a table*/
&lt;a&gt;       /*This is used to add links both internal (from the document) and external urls*/

Closing tags
============
&lt;/h1&gt;     /*This closes a level one header*/
&lt;/p&gt;      /*This marks end of a paragraph*/
&lt;/table&gt;  /*This ends a table section*/
&lt;/a&gt;      /*This ends a given link*/</code></pre>
</div>
<div id="attributes" class="section level6">
<h6><span class="header-section-number">10.1.4.1.1.3</span> Attributes</h6>
<p>Attributes are additional information added to opening tags. This additional information could be an identifier (mostly used for styling or display purposes), or description of content type (for example, <code>lang</code> which specifies language used).</p>
<p>Attributes usually come in <code>name=value</code> pair, for example <code>lang=&quot;en&quot;&gt;</code>; here “lang” is an attribute name (short for “language”) “en” is its value meaning English.</p>
<pre><code>Attributes added to opening tags
================================
&lt;h1 class=&quot;center&quot;&gt;                /*Attribute &quot;class&quot; is used by multiple  html elements to provide uniform styling or identification, in this case all elements with class center can be center aligned*/
&lt;table id=&quot;firstTable&quot;&gt;           /*Attribute &quot;id&quot; is a unique html object identifier, here it maps location of first table*/
&lt;a href=&quot;https://myWebPage.org&quot;&gt; /*Attribute &quot;href&quot; creates a hypelink to an external url*/</code></pre>
<p>Both tags and attributes are the markup component of an element, they are not visible on a web page although they are used to change it’s appearance or make them dynamic/interactive.</p>
</div>
<div id="text" class="section level6">
<h6><span class="header-section-number">10.1.4.1.1.4</span> Text</h6>
<p>Text is the visible part of a web page; this what you see on web page.</p>
<p>Before we look at examples of HTML elements, let’s discuss types of elements as each type will have different markup and text.</p>
</div>
<div id="elementTypes" class="section level6">
<h6><span class="header-section-number">10.1.4.1.1.5</span> Types of HTML element</h6>
<p>There are five types of elements (<a href="https://www.w3.org/TR/html5/syntax.html#elements-0" class="uri">https://www.w3.org/TR/html5/syntax.html#elements-0</a>), two of which are relevant for a web scraper, these are <strong>normal elements</strong> and <strong>void elements</strong>.</p>
<p>Normal elements are composed of markup and text.Markup is not invisible on a web page, it is composed of <strong>tags</strong> and <strong>attributes</strong> which provide details of an element.</p>
<pre><code>Normal Elements
===============
&lt;h1&gt;Level 1 header&lt;/h1&gt;
&lt;p&gt;A paragraph&lt;/p&gt;
&lt;div&gt;A division/section&lt;/div&gt;</code></pre>
<p><strong>Examples of normal elements from 800m wikipedia web page</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wiki800mDOM[<span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">58</span>, <span class="dv">84</span>)] 
## [1] &quot;&lt;title&gt;800 metres - Wikipedia&lt;/title&gt;&quot;
## [2] &quot;&lt;th scope=\&quot;row\&quot;&gt;World&lt;/th&gt;&quot;         
## [3] &quot;&lt;h2&gt;Contents&lt;/h2&gt;&quot;</code></pre></div>
<p>Void elements (also called self-closing elements) are elements which have no text or closing tag, they are basically opening tags. To distinguish these tags from <code>normal</code> elements, <code>strict HTML</code> includes a forward slash right before closing angle bracket.</p>
<pre><code>Void/Self-Closing
================
&lt;br/&gt;       /*Used to add line breaks*/
&lt;meta/&gt;    /*Used to add meta data*/
&lt;link/&gt;   /*Used to add links to url&#39;s*/
&lt;image/&gt; /*Used to add images*/</code></pre>
<p><strong>Examples of void/self-closing elements from 800m wikipedia web page</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wiki800mDOM[<span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">27</span>)]
## [1] &quot;&lt;meta charset=\&quot;UTF-8\&quot;/&gt;&quot;                                  
## [2] &quot;&lt;link rel=\&quot;dns-prefetch\&quot; href=\&quot;//meta.wikimedia.org\&quot; /&gt;&quot;</code></pre></div>
<p>There are normal elements called <code>Empty elements</code> which are important to know. This is because empty elements contain no text.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wiki800mDOM[<span class="dv">81</span>]
## [1] &quot;&lt;p&gt;&lt;/p&gt;&quot;</code></pre></div>
<p>Ideally, all elements that are not defined by <a href="http://www.w3.org/TR/html5/syntax.html">W3C Recommendation</a> as void/self-closing elements should have a closing tag (even empty elements). However, the same recommendations allow some elements to make some omission one being closing tags. From a data extraction point of view, omitting closing tags would cause a problem as it would be difficult to map-out beginning and ending of an element.</p>
<p>For void/self-closing elements, the recommendations allows omission of forward slash <code>/</code> right before end angle bracket (<code>&gt;</code>). These omissions are not good when extracting data as the forward slash inform us we are dealing with void/self-closing elements.</p>
</div>
<div id="nesting" class="section level6">
<h6><span class="header-section-number">10.1.4.1.1.6</span> Nesting Tags</h6>
<p>Tags can embed other tags as it’s content, this is refereed to as <strong>nesting</strong>.</p>
<pre><code>Nesting Elements
================
&lt;p&gt;&lt;dfn id =&quot;myWebPage&gt;My web page is a blog on matters R&lt;/dfn&gt;&lt;/p&gt;
&lt;table&gt;
   &lt;thead&gt;&lt;th&gt;Column Head 1&lt;/th&gt;&lt;th&gt;Column Head 2&lt;/th&gt;&lt;/thead&gt;
   &lt;tbody&gt;&lt;td&gt;Cell Input 1&lt;/td&gt;&lt;td&gt;Cell Input 2&lt;/td&gt;&lt;/tbody&gt;
&lt;/table&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wiki800mDOM[<span class="dv">194</span>]
## [1] &quot;&lt;td&gt;&lt;b&gt;1:56.58&lt;/b&gt;&lt;/td&gt;&quot;</code></pre></div>
</div>
<div id="extractedDocument" class="section level6">
<h6><span class="header-section-number">10.1.4.1.1.7</span> Extracted HTML Document</h6>
<p>Given the allowance made by HTML syntax specifications, it is quite possible for a HTML script to be parse and loaded on a web page while it contains numerous omissions. It is also possible to parse and load error prone HTML even though specification clearly prohibit certain code. For example, one can easily write text without any markup and it will still be loaded on a web page, for example a script with only “Hello welcome to my webpage”.</p>
<p>Basically, HTML is a very relax and user-friendly language. There is nothing like an error in HTML, this is because <a href="https://www.w3.org/TR/html5/">W3C HTML specification</a> provides corrections for all errors. These corrections are implemented by <code>HTML parsers</code> as they are configured to construct syntactically correct HTML code before parsing. All browsers have a HTML parser and follow these specifications when parsing HTML scripts, that is why web pages opened in one browser looks the same in all browser. For example, our wiki pages should look the same on <code>chome</code>, <code>mozilla</code>, <code>operamini</code> or any other browser. However, there a few subtle difference which might not be of concern to us as data extractors.</p>
<p>When a HTML script is parsed, it becomes a <code>HTML document</code>. HTML documents are well formed as they use the strict HTML syntax which requires all elements that are not void elements to be closed and void elements to include a forward slash before it’s ending angle bracket. From these HTML documents, browsers use <code>Application Programming Interfaces (API)</code> called <code>Document Object Model (DOM)</code> to create <code>document objects</code> which are basically used to structure HTML elements. HTML document objects show how each element is related to another element. It is from these relationship that we will be able to map-out exact location of elements of interest.</p>
<p>Unfortunately, when we read in web data using “readLine()”, what we receive is the HTML script used to load the page rather than the parsed HTML document. Hence, it is quite possible to extract data that does not follow strict HTML syntax. Creating our our own HTML parser might be out of scope of this section, there are also contributed packages which have HTML parser. Fortunate for us, Wikipedia pages are <code>well-formed</code> as far as closing and self-closing tags are concerned so we can safely proceed.</p>
<p>Having discussed HTML elements, we can now discuss how elements relate to one another.</p>
</div>
<div id="relationships-among-elements" class="section level6">
<h6><span class="header-section-number">10.1.4.1.1.8</span> Relationships among Elements</h6>
<p>From our preceding discourse, we know <code>HTML documents</code> are <code>parsed HTML scripts</code> which are used to generate a <code>HTML document object</code>. We also mentioned that HTML document objects show relationship between elements, the question now is: <em>how can we describe these relationships?</em></p>
<p>Relationships among elements is described by how elements are nested. Beginning from the <code>root</code> element which is <code>&lt;html&gt;</code>, all other elements can be described as either <code>child</code>, <code>sibling</code>, <code>descendant</code> or <code>ancenstors</code> (<code>html</code> being the <code>parent</code>). This description can also be used to describe any other element which becomes a <code>parent</code> element. This type of relationship is often refereed to as <code>familial relationship</code>.</p>
<p>For example, take the following document object;</p>
<pre><code>&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;Sample web page&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;h2&gt;Welcome to my webpage&lt;/h2&gt;
   &lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>Here we have our root element which is <code>html</code>, this element nests four other elements, that is, <code>head</code>, <code>title</code>, <code>body</code>, and <code>h2</code>. In terms of familial relationship, we call <code>html</code> the parent element while <code>head</code> and <code>body</code> are it’s children, <code>title</code> and <code>h2</code> are <code>html's</code> descendants (but children of head and body respectively).</p>
<p>These relationships can be displayed in a tree-like structure generated by a Document Object Model (DOM). As web scrapers, our interest with DOM are the relationships, we can leave all the other technical bits on <a href="https://en.wikipedia.org/wiki/Document_Object_Model">DOM implementation</a>.</p>
<p>Now that we know what HTML elements are and how we can refer to them using their relationships, let’s look at a basic HTML document just to get a hang of how they look like.</p>
</div>
</div>
</div>
</div>
<div id="html-documents" class="section level3">
<h3><span class="header-section-number">10.1.5</span> HTML Document’s</h3>
<p>A basic HTML document is composed of <code>declaration</code>, <code>elements</code> and <code>comments</code>. Declaration is the first line of code in a HTML document, it is used to indicate the html version used (there are currently six versions with HTML5 being the latest). This declaration is referred to as “Document Type Declaration” (DTD). Declarations are encased in <code>&lt;! &gt;</code> for example <code>&lt;!DOCTYPE html&gt;</code> for HTML5. HTML comments like R comments provide guiding information, in HTML, they begin with <code>&lt;!--</code> and end in <code>--&gt;</code> for instance “<!-- I am a HTML comment -->”.</p>
<p>Like all other programming scripts, indentations are used to show structure, in HTML indentation is used to show nested elements. For example, in the following HTML snippet, indentation is used to show <code>li</code> elements are nested elements of <code>ol</code>.</p>
<pre><code>&lt;ol&gt;
  &lt;li&gt;Item one&lt;/li&gt;
  &lt;li&gt;Item two&lt;/li&gt;
  &lt;li&gt;Item three&lt;/li&gt;
&lt;/ol&gt;</code></pre>
<p>Using <code>familial relationships</code>, elements on the same line are siblings and the immediate opening tag is their parent.</p>
<p>Strict HTML required all HTML documents to have a <code>&lt;head&gt;</code> and <code>&lt;body&gt;</code> tag as children of root element <code>html</code>. <code>head</code> element is meant to give information about the web document, this element along side it’s nested tags are not visible on a web page, visible section of a web page begins from <code>body</code> element.</p>
Before HTML5 came along, it was quite common to find a lot of web documents separating different sections with
<div>
tag (div means division), this tag would embed other div tags. This divisions were mostly used for layout purposes. Newer web pages using HTML5 would use self describing tags for different section of a web page like
<section>
tag for a section, <nav> tag for a navigation panel, and
<aside>
<p>tag for a side section.</p>
<p>With this brief description of basic HTML web page, take a look at basic <a href="Class_Notes/Level%20One/sampleWebPage.html">HTML document</a>.</p>
<p>HTML code for our sample webpage:</p>
<pre><code>&lt;!DOCTYPE html&gt;

&lt;html lang=&quot;en-uk&quot;&gt;

   &lt;head&gt;  &lt;!--This is not visible on web page--&gt;
      &lt;title&gt;Sample Webpage&lt;/title&gt;
      &lt;meta name=&quot;author&quot; content=&quot;Hellen Gakuruh&quot;&gt;
   &lt;/head&gt;
   
   &lt;body&gt;  &lt;!--This begins the visible part of webpage--&gt;
      &lt;div style=&quot;margin:0 25%; width:50%; height:520px; border:2px solid pink; background:#FFB6C1&quot;&gt;
         &lt;p style=&quot;text-align:center; font-size:450%; font-weight:bold; color:blue&quot;&gt;R&lt;/p&gt;
         &lt;h2 style=&quot;text-align:center&quot;&gt;An Introduction to R&lt;/h2&gt;      
         &lt;table style=&quot;margin-left:50%&quot;&gt;
            &lt;tbody&gt;
               &lt;tr&gt;&lt;td style=&quot;text-align:center; text-decoration:underline; color:blue&quot;&gt;Level 1&lt;/td&gt;&lt;/tr&gt;
               &lt;tr&gt;&lt;td style=&quot;text-align:center; text-decoration:underline; color:blue&quot;&gt;Level 2&lt;/td&gt;&lt;/tr&gt;
               &lt;tr&gt;&lt;td style=&quot;text-align:center; text-decoration:underline; color:blue&quot;&gt;Level 3&lt;/td&gt;&lt;/tr&gt;
            &lt;tbody&gt;
         &lt;/table&gt;
      &lt;div&gt;    
   &lt;/body&gt;

&lt;/html&gt;</code></pre>
<p>From above HTML script, the first line is declaration of HTML version used, next line is the root element <code>html</code>. <code>html</code> has two children <code>head</code> and <code>body</code>, they are therefore siblings. <code>head</code> has two children, <code>title</code>, and <code>meta</code>; these two are siblings and descendants of <code>html</code>. <code>body</code> has one child, also called an only child, this is the <code>div</code> element. <code>div</code> has three three children; <code>p</code>, <code>h2</code> and <code>table</code>. The first two children <code>p</code> and <code>h2</code> have no children, the last child <code>table</code> has one child <code>tbody</code>. <code>tbody</code> has three children <code>tr</code> each with one child <code>td</code>. These relationships can be shown using a tree like structure as shown below.</p>
<div class="figure">
<img src="figures/sampleWebPageTree.png" alt="Sample of a HTML Tree" />
<p class="caption">Sample of a HTML Tree</p>
</div>
<p>This sample web page is quite basic and small, it has only 24 line of code, hence it is easy to locate and extract any part of the web page. However, if you have a larger web page like our two wiki pages (2243 and 1359 lines of code), then it is important to have a technique for extracting the data. One such technique is using CSS (cascading styling sheets) selectors.</p>
<div id="extracting-data-using-css-selectors" class="section level4">
<h4><span class="header-section-number">10.1.5.1</span> Extracting data using CSS selectors</h4>
<p>Cascading Styling Sheets (CSS) are code written to add style to web documents. Style can be text alignment, color, background and border features, width and height, or margins. These styles basically describe how HTML elements should be displayed.</p>
<p><dfn id="cssSelectors">CSS selectors are <code>patterns</code> used to select HTML elements. Web developers use CSS selectors to style web pages, for us as web scrapers, we use CSS selectors to locate data to extract</dfn>.</p>
<p>There are two issues we need to grasp as far as CSS selectors for data extraction is concerned. These are <code>simple selectors</code> and <code>combinators</code>.</p>
<div id="simpleSelectors" class="section level5">
<h5><span class="header-section-number">10.1.5.1.1</span> Simple Selectors</h5>
<p>Simple selectors are search patterns composed of <code>type</code>, <code>universal</code>, <code>class</code>, <code>id</code>, <code>attributes</code> and <code>pseudo-class</code> selectors.</p>
<div id="typeSelectors" class="section level6">
<h6><span class="header-section-number">10.1.5.1.1.1</span> Type Selectors</h6>
<p>Type is basically a HTML element name like <code>p</code> for paragraphs. Using type as a CSS selector means all elements with given type would be selected, hence for <code>p</code>, all paragraphs would be selected. Using our sample web page, if we wanted all content on the table, we can simple use <code>td</code> as our CSS selector thereby extracting all elements with a <code>td</code> element name.</p>
</div>
<div id="universalSelectors" class="section level6">
<h6><span class="header-section-number">10.1.5.1.1.2</span> Universal Selectors</h6>
<p>Universal selector denoted with an asterisk <code>*</code> is used to select all elements or all elements of a specific kind. When <code>*</code> is used alone, it selects all elements, for our sample web page this would be all elements from <code>html</code>. If it is combined with other simple selectors like type, then it matches all elements of that type. For example, <code>* p</code> means all <code>p</code> elements. Note, <code>* p</code> and <code>p</code> are essentially the same. This selector is particularly useful for web developers as it can be used to style an entire web page rather than individual element/sections.</p>
</div>
<div id="classIdSelectors" class="section level6">
<h6><span class="header-section-number">10.1.5.1.1.3</span> Class and Id Selectors</h6>
<p>Class and id are widely used <code>attributes</code> selectors. As you may recall, attributes are used to add additional information about an element. A class attribute is used to earmark certain elements for which a common styling will be applied. This means a class attribute can be applied to multiple elements. For example in our wiki800mDOM object, class “plainrowheader” has been used in six table elements (line number 672, 877, 1003, 1117, 1232, 1359).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wiki800mDOM[<span class="kw">c</span>(<span class="dv">672</span>, <span class="dv">877</span>, <span class="dv">1003</span>, <span class="dv">1117</span>, <span class="dv">1232</span>, <span class="dv">1359</span>)]
## [1] &quot;&lt;table class=\&quot;wikitable plainrowheaders\&quot; border=\&quot;1\&quot; style=\&quot;font-size: 100%\&quot;&gt;&quot;
## [2] &quot;&lt;table class=\&quot;wikitable plainrowheaders\&quot; border=\&quot;1\&quot; style=\&quot;font-size: 100%\&quot;&gt;&quot;
## [3] &quot;&lt;table class=\&quot;wikitable plainrowheaders\&quot; border=\&quot;1\&quot; style=\&quot;font-size: 100%\&quot;&gt;&quot;
## [4] &quot;&lt;table class=\&quot;wikitable plainrowheaders\&quot; border=\&quot;1\&quot; style=\&quot;font-size: 100%\&quot;&gt;&quot;
## [5] &quot;&lt;table class=\&quot;wikitable plainrowheaders\&quot; border=\&quot;1\&quot; style=\&quot;font-size: 100%\&quot;&gt;&quot;
## [6] &quot;&lt;table class=\&quot;wikitable plainrowheaders\&quot; border=\&quot;1\&quot; style=\&quot;font-size: 100%\&quot;&gt;&quot;</code></pre></div>
<p>Take note, an element can have more than one class like the table elements above. Classes are separated with a space like class=“wikitable plainrowheaders”. In terms of data extraction, classes are ideal for extracting multiple elements.</p>
<p>Id’s are unique element identifiers. An id name can only be used once in a HTML document, hence these are perhaps the most ideal single element data extractor.</p>
<p>Classes are denoted with a dot <code>.</code> while an id is denoted by a hash <code>#</code>. To extract all table with class <code>plainrowheader</code> we use <code>.plainrowheaders</code>. To extract an element with id of “Women_2” we use <code>#Women_2</code>.</p>
</div>
<div id="attributeSelectors" class="section level6">
<h6><span class="header-section-number">10.1.5.1.1.4</span> Attribute Selectors</h6>
<p>Other attributes can be matched using attribute selectors. These selectors match elements with a given attribute name, value or value-pair. There are seven way in which an attribute can be specified for possible match, these are <code>[attr]</code>, <code>[attr=value]</code>, <code>[attr~=value]</code>, <code>[attr|=value]</code>, <code>[attr^=value]</code>, <code>[attr$=value]</code>, and <code>[attr*=value]</code>. Note that in all of these selectors, square brackets are used to denote it is an attribute selector.</p>
<p><code>attr</code> means attribute name, when specified alone ([attr]), it matches all elements with the given name, this includes classes and id’s as they are also attributes. For example we can match all elements with a colspan (meaning column span) attribute with selector <code>[colspan]</code>. When a value is included, then matching is more specific for example selector <code>[colspan=2]</code> would only match if attribute colspan has a value of 2. When <code>value</code> has a number of words separated by a space like attribute <code>style</code>, then a particular value from these list of words can be matched using selector <code>[attr~=value]</code>. <code>[attr|=value]</code> is used to match elements with attribute value pair “attr=value” or attr with a value beginning with given value followed immediately by a hyphen “-” for example <code>lang=en</code> or <code>lang=en-uk</code>. If only beginning part of an attributes value is known, then <code>[attr^=value]</code> can be used to match all elements with given attribute whose value begin with given value. If end of an attributes value is known, then <code>$</code> is used instead of <code>^</code>. When partial value of an attribute is known and not necessarily at the beginning or end of a value, then <code>*</code> is used instead of <code>^</code> or <code>$</code>. Essentially, any attribute (name-value pair after element name) can be matched with these attribute selectors.</p>
</div>
<div id="pseudo-class" class="section level6">
<h6><span class="header-section-number">10.1.5.1.1.5</span> Pseudo-class</h6>
<p>Pseudo-class selectors are CSS selectors which match elements at certain state or position. Since our interest is matching specific elements, then we will only discuss pseudo-class selectors that match elements at certain position, these are commonly called <code>structural pseudo-classes</code>. Structural pseudo-classes include; <code>root</code>, <code>nth-child</code>, <code>nth-last-child</code>, <code>nth-of-type</code>, <code>nth-last-of-type</code>, <code>first-child</code>, <code>last-child</code>, <code>first-of-type</code>, <code>last-of-type</code>, <code>only-child</code>, <code>only-of-type</code>, and <code>empty</code>. Pseudo-classes are denoted by full colon <code>:</code> for example <code>:root</code> and <code>:empty</code>. To increase specificity (getting exact match), other simple selectors can be added before a pseudo-class selectors like <code>p:first-child</code>.</p>
<p><code>root</code> matches root element, in HTML, this is usually <code>html</code> element. All pseudo-classes beginning with <code>nth</code> match elements at a certain numerical position. These numerical position are stated as a keyword, an exact number or algebraically in the form <code>an+b</code>. Keywords can be either <code>even</code> or <code>odd</code>, for example we can select all even children in a document with <code>:nth-child(even)</code> or all odd tables with <code>table:nth-of-type(odd)</code>. Exact numbers match exact positions like second table in a document would have this <code>table:nth-of-type(2)</code> selector. For algebra expressions, <code>a</code> and <code>b</code> are integers with <code>a</code> being an incrementor, and <code>b</code> the stating position. For example, expression <code>2n+3</code>, means every second element beginning with the third element. Integers <code>a</code> and <code>b</code> can be positive or negative, for example <code>-2n+10</code> which selects the 10th, 8th, 6th, 4th, 3th, and 2nd element. Using expressions is a great way to target uniquely positioned elements, you can learn more and practice writing expressions from <a href="#moreOnNth">these</a> sites.</p>
<p>Nth-child and nth-of-type can sometimes result in the same element(s), however, nth-child is more specific. Read <a href="https://css-tricks.com/the-difference-between-nth-child-and-nth-of-type/">this</a> article to get a more in-depth distinction between the two.</p>
<p><strong>Examples of Simple Selectors</strong></p>
<table style="width:92%;">
<colgroup>
<col width="13%" />
<col width="33%" />
<col width="44%" />
</colgroup>
<thead>
<tr class="header">
<th>Selector</th>
<th>What will it select</th>
<th>Expected output from wiki800mDOM</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>table</td>
<td>All tables</td>
<td>7, 44, 76, 129, 198, 203, 437, 440, 667, 672, 875, 877, 1000, 1003, 1115, 1117, 1229, 1232, 1357, 1359, 1484, 1490, 1494, 1783, 1787, 2080, 2083, 2095, 2103, 2143, 2257, 2267, 2299, 2329, 2366, 2377, 2507</td>
</tr>
<tr class="even">
<td>* meta</td>
<td>All meta elements</td>
<td>4, 13, 15, 16, 27, 2515</td>
</tr>
<tr class="odd">
<td>.plainrowheader</td>
<td>All elements with that class</td>
<td>672, 877, 1003, 1117, 1232, 1359</td>
</tr>
<tr class="even">
<td>#mw-page-base</td>
<td>An element with that id</td>
<td>29</td>
</tr>
<tr class="odd">
<td>[rel]</td>
<td>All elements with attribute rel</td>
<td>11, 14, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 2087, 2093, 2094, 2095, 2096, 2097, 2098, 2099, 2433, 2499, 2523</td>
</tr>
<tr class="even">
<td>table.wikitable.plainrowheader</td>
<td>All table elements with both classes</td>
<td>672, 877, 1003, 1117, 1232, 1359</td>
</tr>
<tr class="odd">
<td>p:nth-of-type(2)</td>
<td>Second <code>p</code> element</td>
<td>6</td>
</tr>
<tr class="even">
<td>p:nth-child(2)</td>
<td>All <code>p</code> elements that are second children of their parent</td>
<td></td>
</tr>
<tr class="odd">
<td>table.plainrowheader:nth-of-type(2n)</td>
<td>All even positioned table element with class plainrowheader</td>
<td>877, 1117, 1359</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="combinators" class="section level5">
<h5><span class="header-section-number">10.1.5.1.2</span> Combinators</h5>
<p>Combinators are used to describe relationship between two or more simple selector. There are four types of combinators denoted by <code>space</code>, <code>greater than sign (&gt;)</code>, <code>plus (+)</code> and <code>tilde (~)</code>.</p>
<p>A space means simple selector on right side is a <strong>descendant</strong> of the simple sector on the left hand side.</p>
<p>Greater than sign is used to indicate simple selector on right side is a <strong>direct child</strong> of simple selector on the left hand side.</p>
<p>A plus indicates the simple selector on the right hand side is an <strong>adjacent sibling</strong> to the simple selector on the left hand side.</p>
<p>A tilde indicates the right hand selector is a <strong>general sibling</strong> of the simple selector on the left hand side.</p>
<p><strong>Some combinators Examples</strong></p>
<p>Selector: <code>h2 a</code> Meaning: Selects any <code>a</code> element nested in a <code>h2</code> element</p>
<pre><code>&lt;h2&gt;
   &lt;span&gt;
      &lt;a href=&quot;address&quot;&gt;http://someaddress.html&lt;/a&gt;
   &lt;/span&gt;
&lt;/h2&gt;</code></pre>
<p>Selector: <code>h2.firstheader + table</code> Meaning: Selects a <code>table</code> element adjacent to a <code>h2</code> element with class “firstheader”</p>
<pre><code>&lt;h2 class=&quot;firstheader&quot;&gt;First Heading&lt;/h2&gt;
&lt;table&gt; </code></pre>
<p>Selector: <code>table &gt; tr</code> Meaning: Selects any <code>tr</code> that is directly nested in a table element</p>
<pre><code>&lt;table&gt;
   &lt;tr&gt;First tr&lt;/tr&gt;      &lt;!-- This will be selected --&gt;
&lt;/table&gt;
&lt;table&gt;
   &lt;thead&gt;
      &lt;tr&gt;Second tr&lt;/tr&gt;  &lt;!-- This will not be selected --&gt;
   &lt;/thead&gt;
&lt;/table&gt;   </code></pre>
<p>Selector: <code>h2 ~ p</code> Meaning: Selects all <code>p</code> elements that are sibling of a <code>h2</code> element. <code>p</code> and <code>h2</code> element are on the same hierarchical level.</p>
<pre><code>&lt;div&gt;
   &lt;h2&gt;Some header&lt;/h2&gt;
   &lt;div&gt;
      &lt;p&gt;First paragraph&lt;/p&gt;    &lt;!-- This will not be selected --&gt;
   &lt;/div&gt;
   &lt;p&gt;Second paragraph&lt;/p&gt;      &lt;!-- This will be selected --&gt;
&lt;/div&gt;   </code></pre>
<div id="css-selectors-for-our-data" class="section level6">
<h6><span class="header-section-number">10.1.5.1.2.1</span> CSS Selectors for Our Data</h6>
<p>From our 800 metres Wikipedia web page, we want to extract the two table for men and women below heading “Olympic medalists”. From our marathon Wikipedia page, we want tables titled men and women under the header Medal summary. Our challenge is to craft a CSS selectors to extract these table (totaling to 4).</p>
<p>The trick with writing CSS selectors is identify what is common among the elements we want and what is unique to an individual element; things like classes and id are quite handy.</p>
<p>For us to identify these things we need to look at our source document. We can easily print our our two object “wiki800mDOM” and “wikiMarathonDOM”, but it will be quite challenging to read the whole script. Best solution is to view the online source document which can be displayed by pressing <code>ctrl+U</code> (windows and Linux) if on chrome, if you are using another browser, read this <a href="http://www.wikihow.com/View-Source-Code">wikihow</a>.</p>
<p>Recall only element nested in <code>body</code> element are visible on a web page, therefore for 800 metres, line number 1 up to line number 28 is not visible on the web page, the visible part begins from line number 29. From this point we want to know where our tables are located in order for use to write it’s CSS selector. We can go one-by-one matching each element with it’s web content, like matching <code>h1</code> element on line number 37 with the first header “800 metres”. Alternatively, since we know what we seek will be a table element, we can find all table elements by pressing <code>ctrl+f</code> on our source document and imputing word <code>&lt;table</code>. Since we know our tables fall below header “Olympic medals”, we want to click next until we get to a table below a “men” header and preceded by “Olympics medals” header. This should be table 5 (from a total of 17 tables) at line number 672, before this table are two headers <code>h3</code> with “men” as it’s text and <code>h2</code> with “Olympics medal” as it’s text. We can move to the next table (6) as we also want to extract “women’s” table. Table 6 is at line number 877 right after <code>h3</code> with “Women” as it’s text.</p>
<p>So now we know where our table are on our source code, question is how best can we identify them using CSS selectors. Note, it is not easy to know which elements are sibling of these table element, or even their parent, so it would not be possible right now to use CSS selectors have “child” keyword, hence we will use something with “type” keyword. With this in mind, we can comfortably use the following CSS selectors to identify our two tables.</p>
<pre><code>table:nth-of-type(5)
table:nth-of-type(6)</code></pre>
<p>From our marathon web page, our interest are male and female tables showing their medal standing. These are tables 2 at line number 131 and table 5 at line number 660. Using our earlier logic, we can use the following CSS selectors.</p>
<pre><code>table:nth-of-type(2)
table:nth-of-type(6)</code></pre>
<p>So far we have relied on visual inspection and <code>ctrl+f</code> to locate our elements of interest, however, better CSS selectors can be written “inspecting HTML elements” on a web page.</p>
<p>Right click on either of our two web pages, then click on inspect, your window should split into two, one showing the web page and another with HTML element (and a few other things). Now hover on the HTML elements and observe what is highlighted on the web page. You can hover until table of interest is highlighted, when this is done, you should be able so see description of it’s CSS selector. In our case proposed CSS selector is <code>table.wikitable.plainrowheaders</code>. If you hover all the tables of interest you will see they all have the same CSS selector, this is good if you want to extract all tables at the same time, but if we want to extract one table at time, then our earlier CSS selectors (with pseudo-classes) are preferable.</p>
<p>Another way to identify correct CSS selector is by using a point-and-click applications like <a href="http://selectorgadget.com/">SelectorGadget</a>.</p>
<p>Now that we have our CSS selectors, we can use them to extract our tables. We can do this using contributed packages like “rvest” but our agreement was to use only base R functions. To this end, we are going to use functions I created to extract web data. In the future, these functions will form a tutorial package meant to teach web scraping using R. Currently (Jan 2017), these functions are not complete and may not work with combinators and pseudo-classes other than type, however they are adequate for this chapter. * we will complete this package together during our next book and specifically chapter on package development.</p>
<p>With our CSS selectors, we will use <code>simpleSelector</code> function to create data frames of all our tables.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">source</span>(<span class="st">&quot;~/R/webScraperPkg/webScrapingFunctions.R&quot;</span>)</code></pre></div>
<p><strong>800 metres male olympiads</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">men800m &lt;-<span class="st"> </span><span class="kw">simpleSelectors</span>(<span class="dt">css =</span> <span class="st">&quot;table:nth-of-type(5)&quot;</span>, <span class="dt">doc =</span> wiki800mDOM, <span class="dt">constructTable =</span> <span class="ot">TRUE</span>)
<span class="kw">str</span>(men800m)
## &#39;data.frame&#39;:    28 obs. of  4 variables:
##  $ Games : chr  &quot;1896 Athens; &lt;span&quot; &quot;1900 Paris; &lt;span&quot; &quot;1904 St. Louis; &lt;span&quot; &quot;1908 London; &lt;span&quot; ...
##  $ Gold  : chr  &quot; Edwin Flack (AUS)&quot; &quot; Alfred Tysoe (GBR)&quot; &quot; James Lightbody (USA)&quot; &quot; Mel Sheppard (USA)&quot; ...
##  $ Silver: chr  &quot; Nándor Dáni (HUN)&quot; &quot; John Cregan (USA)&quot; &quot; Howard Valentine (USA)&quot; &quot; Emilio Lunghi (ITA)&quot; ...
##  $ Bronze: chr  &quot; Dimitrios Golemis (GRE)&quot; &quot; David Hall (USA)&quot; &quot; Emil Breitkreutz (USA)&quot; &quot; Hanns Braun (GER)&quot; ...
<span class="kw">head</span>(men800m)
##                   Games                   Gold                  Silver
## 1    1896 Athens; &lt;span      Edwin Flack (AUS)       Nándor Dáni (HUN)
## 2     1900 Paris; &lt;span     Alfred Tysoe (GBR)       John Cregan (USA)
## 3 1904 St. Louis; &lt;span  James Lightbody (USA)  Howard Valentine (USA)
## 4    1908 London; &lt;span     Mel Sheppard (USA)     Emilio Lunghi (ITA)
## 5 1912 Stockholm; &lt;span     Ted Meredith (USA)      Mel Sheppard (USA)
## 6   1920 Antwerp; &lt;span      Albert Hill (GBR)          Earl Eby (USA)
##                     Bronze
## 1  Dimitrios Golemis (GRE)
## 2         David Hall (USA)
## 3   Emil Breitkreutz (USA)
## 4        Hanns Braun (GER)
## 5      Ira Davenport (USA)
## 6         Bevil Rudd (RSA)</code></pre></div>
<p><strong>800 metres female olympiads</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">female800m   &lt;-<span class="st"> </span><span class="kw">simpleSelectors</span>(<span class="dt">css =</span> <span class="st">&quot;table:nth-of-type(6)&quot;</span>, <span class="dt">doc =</span> wiki800mDOM, <span class="dt">constructTable =</span> <span class="ot">TRUE</span>)
<span class="kw">str</span>(female800m)
## &#39;data.frame&#39;:    17 obs. of  4 variables:
##  $ Games : chr  &quot;1928 Amsterdam; &lt;span&quot; &quot;19321956&quot;&quot;| __truncated__ &quot;1960 Rome; &lt;span&quot; &quot;1964 Tokyo; &lt;span&quot; ...
##  $ Gold  : chr  &quot; Lina Radke (GER)&quot; &quot;not included in the Olympic program&quot; &quot; Lyudmila Shevtsova (URS)&quot; &quot; Ann Packer (GBR)&quot; ...
##  $ Silver: chr  &quot; Kinuye Hitomi (JPN)&quot; NA &quot; Brenda Jones (AUS)&quot; &quot; Maryvonne Dupureur (FRA)&quot; ...
##  $ Bronze: chr  &quot; Inga Gentzel (SWE)&quot; NA &quot; Ursula Donath (EUA)&quot; &quot; Marise Chamberlain (NZL)&quot; ...
<span class="kw">head</span>(female800m)
##                     Games                                Gold
## 1   1928 Amsterdam; &lt;span                    Lina Radke (GER)
## 2               19321956 not included in the Olympic program
## 3        1960 Rome; &lt;span            Lyudmila Shevtsova (URS)
## 4       1964 Tokyo; &lt;span                    Ann Packer (GBR)
## 5 1968 Mexico City; &lt;span              Madeline Manning (USA)
## 6      1972 Munich; &lt;span               Hildegard Falck (FRG)
##                      Silver                     Bronze
## 1       Kinuye Hitomi (JPN)         Inga Gentzel (SWE)
## 2                      &lt;NA&gt;                       &lt;NA&gt;
## 3        Brenda Jones (AUS)        Ursula Donath (EUA)
## 4  Maryvonne Dupureur (FRA)   Marise Chamberlain (NZL)
## 5         Ilona Silai (ROU)          Mia Gommers (NED)
## 6      Nijole Sabaite (URS)  Gunhild Hoffmeister (GDR)</code></pre></div>
<p><strong>Male marathon olympiads</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">menMarathon &lt;-<span class="st"> </span><span class="kw">simpleSelectors</span>(<span class="dt">css =</span> <span class="st">&quot;table:nth-of-type(2)&quot;</span>, <span class="dt">doc =</span> wikiMarathonDOM, <span class="dt">constructTable =</span> <span class="ot">TRUE</span>)
<span class="kw">str</span>(menMarathon)
## &#39;data.frame&#39;:    28 obs. of  4 variables:
##  $ Games : chr  &quot;1896 Athens; &lt;span&quot; &quot;1900 Paris; &lt;span&quot; &quot;1904 St. Louis; &lt;span&quot; &quot;1908 London; &lt;span&quot; ...
##  $ Gold  : chr  &quot; Spiridon Louis (GRE)&quot; &quot; Michel Théato (FRA)[10]&quot; &quot; Thomas Hicks (USA)&quot; &quot; Johnny Hayes (USA)&quot; ...
##  $ Silver: chr  &quot; Charilaos Vasilakos (GRE)&quot; &quot; Émile Champion (FRA)&quot; &quot; Albert Corey (USA)[11]&quot; &quot; Charles Hefferon (RSA)&quot; ...
##  $ Bronze: chr  &quot; Gyula Kellner (HUN)&quot; &quot; Ernst Fast (SWE)&quot; &quot; Arthur Newton (USA)&quot; &quot; Joseph Forshaw (USA)&quot; ...
<span class="kw">head</span>(menMarathon)
##                   Games                      Gold
## 1    1896 Athens; &lt;span      Spiridon Louis (GRE)
## 2     1900 Paris; &lt;span   Michel Théato (FRA)[10]
## 3 1904 St. Louis; &lt;span        Thomas Hicks (USA)
## 4    1908 London; &lt;span        Johnny Hayes (USA)
## 5 1912 Stockholm; &lt;span        Ken McArthur (RSA)
## 6   1920 Antwerp; &lt;span  Hannes Kolehmainen (FIN)
##                       Silver                 Bronze
## 1  Charilaos Vasilakos (GRE)    Gyula Kellner (HUN)
## 2       Émile Champion (FRA)       Ernst Fast (SWE)
## 3     Albert Corey (USA)[11]    Arthur Newton (USA)
## 4     Charles Hefferon (RSA)   Joseph Forshaw (USA)
## 5    Christian Gitsham (RSA)  Gaston Strobino (USA)
## 6        Jüri Lossmann (EST)     Valerio Arri (ITA)</code></pre></div>
<p><strong>Female Marathon Olympiads</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">femaleMarathon &lt;-<span class="st"> </span><span class="kw">simpleSelectors</span>(<span class="dt">css =</span> <span class="st">&quot;table:nth-of-type(5)&quot;</span>, <span class="dt">doc =</span> wikiMarathonDOM, <span class="dt">constructTable =</span> <span class="ot">TRUE</span>)
<span class="kw">str</span>(femaleMarathon)
## &#39;data.frame&#39;:    9 obs. of  4 variables:
##  $ Games : chr  &quot;1984 Los Angeles; &lt;span&quot; &quot;1988 Seoul; &lt;span&quot; &quot;1992 Barcelona; &lt;span&quot; &quot;1996 Atlanta; &lt;span&quot; ...
##  $ Gold  : chr  &quot; Joan Benoit (USA)&quot; &quot; Rosa Mota (POR)&quot; &quot; Valentina Yegorova (EUN)&quot; &quot; Fatuma Roba (ETH)&quot; ...
##  $ Silver: chr  &quot; Grete Waitz (NOR)&quot; &quot; Lisa Martin (AUS)&quot; &quot; Yuko Arimori (JPN)&quot; &quot; Valentina Yegorova (RUS)&quot; ...
##  $ Bronze: chr  &quot; Rosa Mota (POR)&quot; &quot; Katrin Dörre (GDR)&quot; &quot; Lorraine Moller (NZL)&quot; &quot; Yuko Arimori (JPN)&quot; ...
<span class="kw">head</span>(femaleMarathon)
##                     Games                      Gold
## 1 1984 Los Angeles; &lt;span         Joan Benoit (USA)
## 2       1988 Seoul; &lt;span           Rosa Mota (POR)
## 3   1992 Barcelona; &lt;span  Valentina Yegorova (EUN)
## 4     1996 Atlanta; &lt;span         Fatuma Roba (ETH)
## 5      2000 Sydney; &lt;span     Naoko Takahashi (JPN)
## 6      2004 Athens; &lt;span      Mizuki Noguchi (JPN)
##                      Silver                  Bronze
## 1         Grete Waitz (NOR)         Rosa Mota (POR)
## 2         Lisa Martin (AUS)      Katrin Dörre (GDR)
## 3        Yuko Arimori (JPN)   Lorraine Moller (NZL)
## 4  Valentina Yegorova (RUS)      Yuko Arimori (JPN)
## 5  Lidia &lt;U+0218&gt;imon (ROU)  Joyce Chepchumba (KEN)
## 6   Catherine Ndereba (KEN)      Deena Kastor (USA)</code></pre></div>
<p>With that, we have good data sets ready for analysis; mission accomplished.</p>
</div>
</div>
</div>
</div>
</div>
<div id="references-5" class="section level2 unnumbered">
<h2>References</h2>
<div id="online-web-sites" class="section level3 unnumbered">
<h3>Online web sites</h3>
<ol style="list-style-type: decimal">
<li>Introduction to HTML: <a href="http://www.w3schools.com/html/html_intro.asp" class="uri">http://www.w3schools.com/html/html_intro.asp</a></li>
<li>HTML specifications: <a href="https://www.w3.org/TR/html5/" class="uri">https://www.w3.org/TR/html5/</a></li>
<li>Introduction to CSS: <a href="http://www.w3schools.com/css/css_intro.asp" class="uri">http://www.w3schools.com/css/css_intro.asp</a></li>
<li>Rvest, a web scraping package: <a href="https://cran.r-project.org/web/packages/rvest/index.html" class="uri">https://cran.r-project.org/web/packages/rvest/index.html</a></li>
</ol>
<div id="more-on-nth-pseudo-class-expressionsmoreonnth" class="section level4 unnumbered">
<h4>More on Nth Pseudo-class expressions{#moreOnNth}</h4>
<ul>
<li>How nth-child works by CSS tricks: <a href="https://css-tricks.com/how-nth-child-works/" class="uri">https://css-tricks.com/how-nth-child-works/</a></li>
<li>Understanding nth-child pseudo-class expressions: <a href="https://www.sitepoint.com/web-foundations/understanding-nth-child-pseudo-class-expressions/" class="uri">https://www.sitepoint.com/web-foundations/understanding-nth-child-pseudo-class-expressions/</a></li>
</ul>
<p id="gaugeYourself10">
<b>Gauge Yourself</b>
</p>
<ol style="list-style-type: decimal">
<li>Practice scraping other web pages</li>
<li>Think of other case studies we can use to practice lessons learnt in this book</li>
</ol>

</div>
</div>
</div>
</div>



</div>
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
this.page.url = http://helleng.github.io/Data_Mgt_Analysis_and_Graphics_R/Pages/tutorials.html;  // Replace PAGE_URL with your page's canonical URL variable
var disqus_developer = 1;
//this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//introduction-to-data-analysis-and-graphics-using-r.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            </section>

          </div>
        </div>
      </div>
<a href="chap9.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": true,
"weibo": false,
"instapper": true,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"],
"linkedin": true
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

</body>

</html>
